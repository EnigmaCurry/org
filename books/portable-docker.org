#+hugo_base_dir: ../hugo
#+hugo_section: /portable-docker
#+hugo_weight: auto
#+hugo_paired_shortcodes: %notice badge button %children %index run stdout edit math mermaid openapi toc env
#+STARTUP: align

* Portable Docker: Build and Deploy Anywhere with WireGuard Tunneling
:PROPERTIES:
:EXPORT_FILE_NAME: _index
:EXPORT_HUGO_CUSTOM_FRONT_MATTER: :linkTitle Portable Docker
:EXPORT_HUGO_WEIGHT: 3000
:END:

This book serves as a guide to installing Docker on a small, portable
Linux device (eg. Raspberry Pi), and deploying some web service
containers on it. You'll also create and configure a public cloud
server (eg. DigitalOcean droplet). The cloud serverâ€™s sole purpose is
to host a WireGuard VPN and proxy, enabling the Raspberry Pi to
securely connect from any location.

Through the encrypted tunnel established by this connection, the Pi
can publish services to the internet, even when operating behind a
restrictive firewall, such as public WiFi, mobile hotspots, and
carrier-grade NAT. As long as you can get unblocked /outgoing/
internet access, you can host your public roaming server from
anywhere!

#+attr_shortcode: :icon code-branch :style primary :href https://github.com/EnigmaCurry/d.rymcg.tech#readme
#+begin_button
d.rymcg.tech
#+end_button

#+attr_shortcode: :icon comment-dots :style red :href https://matrix.to/#/#d.rymcg.tech:enigmacurry.com
#+begin_button
Chat with us on Matrix
#+end_button

#+attr_shortcode: :depth 999
#+begin_index
index
#+end_index

* Introduction
:PROPERTIES:
:EXPORT_FILE_NAME: introduction
:EXPORT_HUGO_WEIGHT: 100
:END:
* Setup Raspberry Pi
:PROPERTIES:
:EXPORT_HUGO_SECTION_FRAG: setup-raspberry-pi
:EXPORT_HUGO_WEIGHT: 200
:END:
** Setup Raspberry Pi
:PROPERTIES:
:EXPORT_FILE_NAME: _index
:EXPORT_HUGO_WEIGHT: 201
:END:
#+attr_shortcode: :depth 999
#+begin_index
index
#+end_index
** Build your Pi
:PROPERTIES:
:EXPORT_FILE_NAME: build-your-pi
:EXPORT_HUGO_WEIGHT: 210
:END:
TODO
** Install Raspbian
:PROPERTIES:
:EXPORT_FILE_NAME: install-raspbian
:EXPORT_HUGO_WEIGHT: 220
:END:
TODO
** Setup networking
:PROPERTIES:
:EXPORT_FILE_NAME: setup-networking
:EXPORT_HUGO_WEIGHT: 230
:END:
TODO
** Install Docker
:PROPERTIES:
:EXPORT_FILE_NAME: install-docker
:EXPORT_HUGO_WEIGHT: 240
:END:
TODO
** Install d.rymcg.tech
:PROPERTIES:
:EXPORT_FILE_NAME: install-d-rymcg-tech
:EXPORT_HUGO_WEIGHT: 250
:END:
TODO
** Install Traefik and Whoami
:PROPERTIES:
:EXPORT_FILE_NAME: install-traefik-and-whoami
:EXPORT_HUGO_WEIGHT: 260
:END:
TODO
* Setup your cloud server sentry
:PROPERTIES:
:EXPORT_HUGO_SECTION_FRAG: setup-cloud-sentry
:EXPORT_HUGO_WEIGHT: 300
:END:
TODO
** Setup your cloud server sentry
:PROPERTIES:
:EXPORT_FILE_NAME: _index
:EXPORT_HUGO_WEIGHT: 301
:END:
#+attr_shortcode: :depth 999
#+begin_index
index
#+end_index
** Launch DigitalOcean droplet
:PROPERTIES:
:EXPORT_FILE_NAME: launch-digitalocean-droplet
:EXPORT_HUGO_WEIGHT: 310
:END:
TODO
** Setup Docker context on the Pi
:PROPERTIES:
:EXPORT_FILE_NAME: setup-docker-context
:EXPORT_HUGO_WEIGHT: 320
:END:
TODO
** Install Traefik and Whoami
:PROPERTIES:
:EXPORT_FILE_NAME: install-traefik-and-whoami
:EXPORT_HUGO_WEIGHT: 330
:END:
TODO
* Configure Wireguard tunnel
:PROPERTIES:
:EXPORT_HUGO_SECTION_FRAG: configure-wireguard-tunnel
:EXPORT_HUGO_WEIGHT: 400
:END:
TODO
** Configure Wireguard tunnel
:PROPERTIES:
:EXPORT_FILE_NAME: _index
:EXPORT_HUGO_WEIGHT: 401
:END:
#+attr_shortcode: :depth 999
#+begin_index
index
#+end_index
** Configure sentry wireguard server
:PROPERTIES:
:EXPORT_FILE_NAME: configure-sentry-wireguard-server
:EXPORT_HUGO_WEIGHT: 410
:END:
TODO
** Configure pi wireguard client
:PROPERTIES:
:EXPORT_FILE_NAME: configure-pi-wireguard-client
:EXPORT_HUGO_WEIGHT: 420
:END:
TODO
** Configure routes for Whoami
:PROPERTIES:
:EXPORT_FILE_NAME: configure-routes-for-whoami
:EXPORT_HUGO_WEIGHT: 430
:END:
TODO
* Install web services
:PROPERTIES:
:EXPORT_HUGO_SECTION_FRAG: install-web-services
:EXPORT_HUGO_WEIGHT: 500
:END:
** Install web services
:PROPERTIES:
:EXPORT_FILE_NAME: _index
:EXPORT_HUGO_WEIGHT: 501
:END:
#+attr_shortcode: :depth 999
#+begin_index
index
#+end_index
** Immich
:PROPERTIES:
:EXPORT_FILE_NAME: immich
:EXPORT_HUGO_WEIGHT: 510
:END:
TODO
** Yourls
:PROPERTIES:
:EXPORT_FILE_NAME: yourls
:EXPORT_HUGO_WEIGHT: 520
:END:
TODO
