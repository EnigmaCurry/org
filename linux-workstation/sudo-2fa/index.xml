<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Two Factor Auth with Solokey :: book.rymcg.tech</title>
    <link>https://book.rymcg.tech/linux-workstation/sudo-2fa/index.html</link>
    <description> Index Get your Solokey (v1) Install Solokey CLI tool Update your Solokey Program your Solokey Sudo with Solokey </description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://book.rymcg.tech/linux-workstation/sudo-2fa/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Get your Solokey (v1)</title>
      <link>https://book.rymcg.tech/linux-workstation/sudo-2fa/get-your-solokey/index.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://book.rymcg.tech/linux-workstation/sudo-2fa/get-your-solokey/index.html</guid>
      <description>I know of two places to buy solokeys:&#xA;https://solokeys.com/collections/all https://www.crowdsupply.com/solokeys/somu#products What to buy:&#xA;Recommended: Solo 1 Tap USB-A (durable clicky button, but sticks out of the USB port). Recommended: Somu (semi-permanent flush mount USB-A port, soft touch design). Don’t buy a Solokey v2 (yet). Get the Solokey v1. (These instructions are for Solokey v1). Get the “secure” version, don’t buy the “hacker” version. Buy at least two (and store one as a backup).</description>
    </item>
    <item>
      <title>Install Solokey CLI tool</title>
      <link>https://book.rymcg.tech/linux-workstation/sudo-2fa/install-solo-cli/index.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://book.rymcg.tech/linux-workstation/sudo-2fa/install-solo-cli/index.html</guid>
      <description>Create Python environment for solokey [bash]: Run this on your workstation: SOLO_ROOT=~/git/vendor/solokeys (set -e git clone https://github.com/solokeys/solo1-cli \ ${SOLO_ROOT}/solo1-cli ) Lock Fido2 version to 0.9.1 to fix outstanding bugs Warning Double check if these outstanding bugs are still open: https://github.com/solokeys/solo1-cli/issues/151 https://github.com/solokeys/solo1-cli/discussions/156 Both of these are related to Fido2 v1.0.0. If you lock the version to the last known good version of 0.9.0, it will work: [bash]: Run this on your workstation: sed -i &#39;s/fido2 &gt;= 0.</description>
    </item>
    <item>
      <title>Update your Solokey</title>
      <link>https://book.rymcg.tech/linux-workstation/sudo-2fa/update-solokey/index.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://book.rymcg.tech/linux-workstation/sudo-2fa/update-solokey/index.html</guid>
      <description>Plug your solokey into the USB port Identify your solokey [bash]: Run this on your workstation: solo ls (stdout) :: Solos AABBCC00112233: SoloKeys Solo 4.1.5 Update the firmware Check for the latest release of solo v1 and compare it to the version that is reported by solo ls. If your solokey is not running the latest version, it is recommended to update it.&#xA;Enter bootloader mode:&#xA;[bash]: Run this on your workstation: solo program aux enter-bootloader The solokey should now be rapidly flashing to indicate it is in boot loader mode.</description>
    </item>
    <item>
      <title>Program your Solokey</title>
      <link>https://book.rymcg.tech/linux-workstation/sudo-2fa/program-solokey/index.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://book.rymcg.tech/linux-workstation/sudo-2fa/program-solokey/index.html</guid>
      <description>Reset solokey (recommended first time only) Warning This will wipe all identity from the solokey device!&#xA;[bash]: Run this on your workstation: solo key reset Set device PIN [bash]: Run this on your workstation: solo key set-pin Tip This will only work if the device does not already have a pin (which is the state it is in after a reset).&#xA;If you want to change the PIN which was already set:</description>
    </item>
    <item>
      <title>Sudo with Solokey</title>
      <link>https://book.rymcg.tech/linux-workstation/sudo-2fa/sudo-2fa/index.html</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://book.rymcg.tech/linux-workstation/sudo-2fa/sudo-2fa/index.html</guid>
      <description>Having sudo privileges enabled for your normal workstation user account is both a convenience and a security concern. The Pluggable Authentication Module for Linux (PAM) allows us to strengthen the requirements for using sudo, to include several authentication methods beyond just asking for a password. This chapter will install pam_u2f, which enables PAM authentication via FIDO2/U2F compatible hardware tokens like the Solokey. Each time sudo asks for authentication, it will prompt for a Solokey button press and a password to be entered.</description>
    </item>
  </channel>
</rss>